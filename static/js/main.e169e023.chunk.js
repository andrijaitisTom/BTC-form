(this["webpackJsonpbtc-form"]=this["webpackJsonpbtc-form"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(4),a=n.n(r),i=(n(14),n(3)),l=n.n(i),u=n(5),d=n(6),o=n(7),h=n(9),p=n(8),j=n.p+"static/media/logo.6ce24c58.svg",b=(n(16),n(0));function S(e,t){var n=(parseFloat(e.replace(/,/g,""))*t).toFixed(2);return Number(n).toLocaleString()}var O=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={mounting:!1,currency:null,usdSelected:!1,eurSelected:!1,gbpSelected:!1,inputValue:"",showSelect:!0},e._isMounted=!1,e.usdSelectedHandler=function(){var t=e.state.usdSelected;e.setState({usdSelected:!t})},e.eurSelectedHandler=function(){var t=e.state.eurSelected;e.setState({eurSelected:!t})},e.gbpSelectedHandler=function(){var t=e.state.gbpSelected;e.setState({gbpSelected:!t})},e.inputHandler=function(t){(""===t||/^(?!0{2,})[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$/.test(t))&&e.setState({inputValue:t})},e}return Object(o.a)(n,[{key:"getPrices",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.coindesk.com/v1/bpi/currentprice.json",{"Content-Type":"application/json"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({currency:n.bpi,mounting:!0}),console.log("called");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.getPrices(),setInterval((function(){!0===e._isMounted&&e.getPrices()}),6e4)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)("img",{src:j,className:"App-logo",alt:"logo"}),Object(b.jsx)("p",{children:"React form showing current BTC price"})]}),Object(b.jsx)("div",{children:this.state.mounting&&this.state.currency?Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"priceContainer",children:[Object(b.jsx)("h1",{className:"currentPrice",children:"Current BTC price"}),Object(b.jsx)("input",{placeholder:"0.00 BTC",value:this.state.inputValue,onChange:function(t){return e.inputHandler(t.target.value)}}),this.state.eurSelected?Object(b.jsxs)("p",{children:[S(this.state.currency.EUR.rate,this.state.inputValue)," ",this.state.currency.EUR.code," ",Object(b.jsx)("span",{children:Object(b.jsx)("button",{onClick:this.eurSelectedHandler,className:"cancelOrder"})})]}):null,this.state.usdSelected?Object(b.jsxs)("p",{children:[S(this.state.currency.USD.rate,this.state.inputValue)," ",this.state.currency.USD.code," ",Object(b.jsx)("span",{children:Object(b.jsx)("button",{onClick:this.usdSelectedHandler,className:"cancelOrder"})})]}):null,this.state.gbpSelected?Object(b.jsxs)("p",{children:[S(this.state.currency.GBP.rate,this.state.inputValue)," ",this.state.currency.GBP.code," ",Object(b.jsx)("span",{children:Object(b.jsx)("button",{onClick:this.gbpSelectedHandler,className:"cancelOrder"})})]}):null]}),Object(b.jsx)("div",{className:"fiatContainer",children:this.state.usdSelected&&this.state.gbpSelected&&this.state.eurSelected?null:Object(b.jsxs)("div",{className:"dropdown",children:[Object(b.jsx)("button",{className:"dropbtn",children:"Select your currency"}),Object(b.jsxs)("div",{className:"dropdown-content",children:[this.state.usdSelected?null:Object(b.jsx)("p",{onClick:this.usdSelectedHandler,children:"USD  "}),this.state.gbpSelected?null:Object(b.jsx)("p",{onClick:this.gbpSelectedHandler,children:"GBP  "}),this.state.eurSelected?null:Object(b.jsx)("p",{onClick:this.eurSelectedHandler,children:"EUR"})]})]})})]}):Object(b.jsx)("div",{children:"Please wait ..."})})]})}}]),n}(s.a.Component),g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),g()}},[[18,1,2]]]);
//# sourceMappingURL=main.e169e023.chunk.js.map